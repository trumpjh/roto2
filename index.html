<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>로또 번호 관리</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>🎱 로또 번호 관리 시스템</h1>
        
        <!-- 동기화 상태 표시 -->
        <div class="sync-status" id="syncStatus">
            <span class="status-dot" id="statusDot"></span>
            <span id="statusText">연결 중...</span>
        </div>

        <div class="add-section">
            <h2>새 회차 추가</h2>
            <div class="input-group">
                <label>회차 번호:</label>
                <input type="number" id="roundNumber" placeholder="예: 1205">
                <small class="help-text">회차를 입력하면 날짜가 자동 계산됩니다 (기준: 1205회 = 2026.01.03)</small>
            </div>
            <div class="input-group">
                <label>추첨 날짜:</label>
                <input type="text" id="drawDate" readonly>
            </div>
            <div class="input-group">
                <label>당첨 번호 (6개):</label>
                <div class="number-inputs">
                    <input type="number" class="number-input" min="1" max="45" placeholder="1">
                    <input type="number" class="number-input" min="1" max="45" placeholder="2">
                    <input type="number" class="number-input" min="1" max="45" placeholder="3">
                    <input type="number" class="number-input" min="1" max="45" placeholder="4">
                    <input type="number" class="number-input" min="1" max="45" placeholder="5">
                    <input type="number" class="number-input" min="1" max="45" placeholder="6">
                </div>
            </div>
            <div class="input-group">
                <label>보너스 번호:</label>
                <input type="number" id="bonusNumber" min="1" max="45" placeholder="보너스">
            </div>
            <button id="addButton" class="btn-add">회차 추가</button>
        </div>

        <!-- 로또 번호 생성기 섹션 -->
        <div class="generator-section">
            <h2>🎲 AI 로또 번호 생성기</h2>
            <p class="generator-desc">저장된 당첨 번호를 분석하여 10개의 추천 번호를 생성합니다.</p>
            <button id="generateButton" class="btn-generate">번호 생성하기</button>
            
            <div id="generatedNumbers" class="generated-numbers" style="display: none;">
                <h3>생성된 추천 번호</h3>
                <div id="recommendList" class="recommend-list"></div>
            </div>
        </div>

        <!-- 당첨 번호 마킹 분석 -->
        <div class="analysis-section" style="display: none;" id="analysisSection">
            <h2>📊 당첨 번호 마킹 분석</h2>
            <div class="lotto-sheet">
                <div class="sheet-row">
                    <span class="row-label">1행</span>
                    <div class="sheet-numbers" id="row1"></div>
                </div>
                <div class="sheet-row">
                    <span class="row-label">2행</span>
                    <div class="sheet-numbers" id="row2"></div>
                </div>
                <div class="sheet-row">
                    <span class="row-label">3행</span>
                    <div class="sheet-numbers" id="row3"></div>
                </div>
                <div class="sheet-row">
                    <span class="row-label">4행</span>
                    <div class="sheet-numbers" id="row4"></div>
                </div>
                <div class="sheet-row">
                    <span class="row-label">5행</span>
                    <div class="sheet-numbers" id="row5"></div>
                </div>
                <div class="sheet-row">
                    <span class="row-label">6행</span>
                    <div class="sheet-numbers" id="row6"></div>
                </div>
                <div class="sheet-row">
                    <span class="row-label">7행</span>
                    <div class="sheet-numbers" id="row7"></div>
                </div>
            </div>
            <div class="analysis-legend">
                <span><span class="legend-box high"></span> 자주 나온 번호</span>
                <span><span class="legend-box medium"></span> 보통</span>
                <span><span class="legend-box low"></span> 적게 나온 번호</span>
            </div>
        </div>

        <div class="list-section">
            <h2>최근 15회차 당첨 번호</h2>
            <div id="lottoList" class="lotto-list"></div>
        </div>

        <div class="button-group">
            <button id="resetButton" class="btn-reset">초기 데이터로 리셋</button>
        </div>
    </div>

    <!-- 확인 모달 -->
    <div id="confirmModal" class="modal">
        <div class="modal-content">
            <h3>⚠️ 중복 회차 발견</h3>
            <p id="modalMessage"></p>
            <div class="modal-buttons">
                <button id="modalYes" class="btn-modal btn-yes">예</button>
                <button id="modalNo" class="btn-modal btn-no">아니오</button>
            </div>
        </div>
    </div>

    <!-- 삭제 확인 모달 -->
    <div id="deleteModal" class="modal">
        <div class="modal-content">
            <h3>🗑️ 회차 삭제</h3>
            <p id="deleteModalMessage"></p>
            <div class="modal-buttons">
                <button id="deleteYes" class="btn-modal btn-yes">삭제</button>
                <button id="deleteNo" class="btn-modal btn-no">취소</button>
            </div>
        </div>
    </div>

    <script type="module" src="script.js"></script>
</body>
</html>
